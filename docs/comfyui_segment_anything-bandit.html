
<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">

<title>
    Bandit Report
</title>

<style>

html * {
    font-family: "Arial", sans-serif;
}

pre {
    font-family: "Monaco", monospace;
}

.bordered-box {
    border: 1px solid black;
    padding-top:.5em;
    padding-bottom:.5em;
    padding-left:1em;
}

.metrics-box {
    font-size: 1.1em;
    line-height: 130%;
}

.metrics-title {
    font-size: 1.5em;
    font-weight: 500;
    margin-bottom: .25em;
}

.issue-description {
    font-size: 1.3em;
    font-weight: 500;
}

.candidate-issues {
    margin-left: 2em;
    border-left: solid 1px; LightGray;
    padding-left: 5%;
    margin-top: .2em;
    margin-bottom: .2em;
}

.issue-block {
    border: 1px solid LightGray;
    padding-left: .5em;
    padding-top: .5em;
    padding-bottom: .5em;
    margin-bottom: .5em;
}

.issue-sev-high {
    background-color: Pink;
}

.issue-sev-medium {
    background-color: NavajoWhite;
}

.issue-sev-low {
    background-color: LightCyan;
}

</style>
</head>

<body>

<div id="metrics">
    <div class="metrics-box bordered-box">
        <div class="metrics-title">
            Metrics:<br>
        </div>
        Total lines of code: <span id="loc">6400</span><br>
        Total lines skipped (#nosec): <span id="nosec">0</span>
    </div>
</div>




<br>
<div id="results">
    
<div id="issue-0">
<div class="issue-block issue-sev-low">
    <b>blacklist: </b> Consider possible security implications associated with the subprocess module.<br>
    <b>Test ID:</b> B404<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/78.html" target="_blank">CWE-78</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/install.py" target="_blank">/comfyui_segment_anything/install.py</a><br>
    <b>Line number: </b>3<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b404-import-subprocess" target="_blank">https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b404-import-subprocess</a><br>

<div class="code">
<pre>
1	import sys
2	import os.path
3	import subprocess
4	
5	custom_nodes_path = os.path.dirname(os.path.abspath(__file__))
6	
7	def build_pip_install_cmds(args):
8	    if &quot;python_embeded&quot; in sys.executable or &quot;python_embedded&quot; in sys.executable:
9	        return [sys.executable, &#x27;-s&#x27;, &#x27;-m&#x27;, &#x27;pip&#x27;, &#x27;install&#x27;] + args
10	    else:
11	        return [sys.executable, &#x27;-m&#x27;, &#x27;pip&#x27;, &#x27;install&#x27;] + args
12	
13	def ensure_package():
14	    cmds = build_pip_install_cmds([&#x27;-r&#x27;, &#x27;requirements.txt&#x27;])
15	    subprocess.run(cmds, cwd=custom_nodes_path)
16	
17	if __name__ == &quot;__main__&quot;:
18	    ensure_package()
</pre>
</div>


</div>
</div>

<div id="issue-1">
<div class="issue-block issue-sev-low">
    <b>subprocess_without_shell_equals_true: </b> subprocess call - check for execution of untrusted input.<br>
    <b>Test ID:</b> B603<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/78.html" target="_blank">CWE-78</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/install.py" target="_blank">/comfyui_segment_anything/install.py</a><br>
    <b>Line number: </b>15<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/plugins/b603_subprocess_without_shell_equals_true.html" target="_blank">https://bandit.readthedocs.io/en/1.7.9/plugins/b603_subprocess_without_shell_equals_true.html</a><br>

<div class="code">
<pre>
1	import sys
2	import os.path
3	import subprocess
4	
5	custom_nodes_path = os.path.dirname(os.path.abspath(__file__))
6	
7	def build_pip_install_cmds(args):
8	    if &quot;python_embeded&quot; in sys.executable or &quot;python_embedded&quot; in sys.executable:
9	        return [sys.executable, &#x27;-s&#x27;, &#x27;-m&#x27;, &#x27;pip&#x27;, &#x27;install&#x27;] + args
10	    else:
11	        return [sys.executable, &#x27;-m&#x27;, &#x27;pip&#x27;, &#x27;install&#x27;] + args
12	
13	def ensure_package():
14	    cmds = build_pip_install_cmds([&#x27;-r&#x27;, &#x27;requirements.txt&#x27;])
15	    subprocess.run(cmds, cwd=custom_nodes_path)
16	
17	if __name__ == &quot;__main__&quot;:
18	    ensure_package()
</pre>
</div>


</div>
</div>

<div id="issue-2">
<div class="issue-block issue-sev-low">
    <b>blacklist: </b> Consider possible security implications associated with pickle module.<br>
    <b>Test ID:</b> B403<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/502.html" target="_blank">CWE-502</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/misc.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/misc.py</a><br>
    <b>Line number: </b>13<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b403-import-pickle" target="_blank">https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b403-import-pickle</a><br>

<div class="code">
<pre>
1	# Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved
2	&quot;&quot;&quot;
3	Misc functions, including distributed helpers.
4	
5	Mostly copy-paste from torchvision references.
6	&quot;&quot;&quot;
7	import colorsys
8	import datetime
9	import functools
10	import io
11	import json
12	import os
13	import pickle
14	import subprocess
15	import time
16	from collections import OrderedDict, defaultdict, deque
17	from typing import List, Optional
18	
19	import numpy as np
20	import torch
21	import torch.distributed as dist
22	
23	# needed due to empty tensor bug in pytorch and torchvision 0.5
24	import torchvision
25	from torch import Tensor
26	
27	__torchvision_need_compat_flag = float(torchvision.__version__.split(&quot;.&quot;)[1]) &lt; 7
28	if __torchvision_need_compat_flag:
29	    from torchvision.ops import _new_empty_tensor
30	    from torchvision.ops.misc import _output_size
31	
32	
</pre>
</div>


</div>
</div>

<div id="issue-3">
<div class="issue-block issue-sev-low">
    <b>blacklist: </b> Consider possible security implications associated with the subprocess module.<br>
    <b>Test ID:</b> B404<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/78.html" target="_blank">CWE-78</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/misc.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/misc.py</a><br>
    <b>Line number: </b>14<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b404-import-subprocess" target="_blank">https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b404-import-subprocess</a><br>

<div class="code">
<pre>
1	# Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved
2	&quot;&quot;&quot;
3	Misc functions, including distributed helpers.
4	
5	Mostly copy-paste from torchvision references.
6	&quot;&quot;&quot;
7	import colorsys
8	import datetime
9	import functools
10	import io
11	import json
12	import os
13	import pickle
14	import subprocess
15	import time
16	from collections import OrderedDict, defaultdict, deque
17	from typing import List, Optional
18	
19	import numpy as np
20	import torch
21	import torch.distributed as dist
22	
23	# needed due to empty tensor bug in pytorch and torchvision 0.5
24	import torchvision
25	from torch import Tensor
26	
27	__torchvision_need_compat_flag = float(torchvision.__version__.split(&quot;.&quot;)[1]) &lt; 7
28	if __torchvision_need_compat_flag:
29	    from torchvision.ops import _new_empty_tensor
30	    from torchvision.ops.misc import _output_size
31	
32	
</pre>
</div>


</div>
</div>

<div id="issue-4">
<div class="issue-block issue-sev-medium">
    <b>blacklist: </b> Pickle and modules that wrap it can be unsafe when used to deserialize untrusted data, possible security issue.<br>
    <b>Test ID:</b> B301<br>
    <b>Severity: </b>MEDIUM<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/502.html" target="_blank">CWE-502</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/misc.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/misc.py</a><br>
    <b>Line number: </b>215<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_calls.html#b301-pickle" target="_blank">https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_calls.html#b301-pickle</a><br>

<div class="code">
<pre>
199	    max_size = max(size_list)
200	
201	    # receiving Tensor from all ranks
202	    # we pad the tensor because torch all_gather does not support
203	    # gathering tensors of different shapes
204	    tensor_list = []
205	    for _ in size_list:
206	        tensor_list.append(torch.empty((max_size,), dtype=torch.uint8, device=&quot;cuda&quot;))
207	    if local_size != max_size:
208	        padding = torch.empty(size=(max_size - local_size,), dtype=torch.uint8, device=&quot;cuda&quot;)
209	        tensor = torch.cat((tensor, padding), dim=0)
210	    dist.all_gather(tensor_list, tensor)
211	
212	    data_list = []
213	    for size, tensor in zip(size_list, tensor_list):
214	        buffer = tensor.cpu().numpy().tobytes()[:size]
215	        data_list.append(pickle.loads(buffer))
216	
217	    return data_list
218	
219	
220	def reduce_dict(input_dict, average=True):
221	    &quot;&quot;&quot;
222	    Args:
223	        input_dict (dict): all the values will be reduced
224	        average (bool): whether to do average or sum
225	    Reduce the values in the dictionary from all processes so that all processes
226	    have the averaged results. Returns a dict with the same fields as
227	    input_dict, after reduction.
228	    &quot;&quot;&quot;
229	    world_size = get_world_size()
230	    if world_size &lt; 2:
</pre>
</div>


</div>
</div>

<div id="issue-5">
<div class="issue-block issue-sev-low">
    <b>subprocess_without_shell_equals_true: </b> subprocess call - check for execution of untrusted input.<br>
    <b>Test ID:</b> B603<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/78.html" target="_blank">CWE-78</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/misc.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/misc.py</a><br>
    <b>Line number: </b>366<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/plugins/b603_subprocess_without_shell_equals_true.html" target="_blank">https://bandit.readthedocs.io/en/1.7.9/plugins/b603_subprocess_without_shell_equals_true.html</a><br>

<div class="code">
<pre>
350	                    )
351	            i += 1
352	            end = time.time()
353	        total_time = time.time() - start_time
354	        total_time_str = str(datetime.timedelta(seconds=int(total_time)))
355	        print_func(
356	            &quot;{} Total time: {} ({:.4f} s / it)&quot;.format(
357	                header, total_time_str, total_time / len(iterable)
358	            )
359	        )
360	
361	
362	def get_sha():
363	    cwd = os.path.dirname(os.path.abspath(__file__))
364	
365	    def _run(command):
366	        return subprocess.check_output(command, cwd=cwd).decode(&quot;ascii&quot;).strip()
367	
368	    sha = &quot;N/A&quot;
369	    diff = &quot;clean&quot;
370	    branch = &quot;N/A&quot;
371	    try:
372	        sha = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;HEAD&quot;])
373	        subprocess.check_output([&quot;git&quot;, &quot;diff&quot;], cwd=cwd)
374	        diff = _run([&quot;git&quot;, &quot;diff-index&quot;, &quot;HEAD&quot;])
375	        diff = &quot;has uncommited changes&quot; if diff else &quot;clean&quot;
376	        branch = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;--abbrev-ref&quot;, &quot;HEAD&quot;])
377	    except Exception:
378	        pass
379	    message = f&quot;sha: {sha}, status: {diff}, branch: {branch}&quot;
380	    return message
381	
</pre>
</div>


</div>
</div>

<div id="issue-6">
<div class="issue-block issue-sev-low">
    <b>start_process_with_partial_path: </b> Starting a process with a partial executable path<br>
    <b>Test ID:</b> B607<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/78.html" target="_blank">CWE-78</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/misc.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/misc.py</a><br>
    <b>Line number: </b>373<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/plugins/b607_start_process_with_partial_path.html" target="_blank">https://bandit.readthedocs.io/en/1.7.9/plugins/b607_start_process_with_partial_path.html</a><br>

<div class="code">
<pre>
357	                header, total_time_str, total_time / len(iterable)
358	            )
359	        )
360	
361	
362	def get_sha():
363	    cwd = os.path.dirname(os.path.abspath(__file__))
364	
365	    def _run(command):
366	        return subprocess.check_output(command, cwd=cwd).decode(&quot;ascii&quot;).strip()
367	
368	    sha = &quot;N/A&quot;
369	    diff = &quot;clean&quot;
370	    branch = &quot;N/A&quot;
371	    try:
372	        sha = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;HEAD&quot;])
373	        subprocess.check_output([&quot;git&quot;, &quot;diff&quot;], cwd=cwd)
374	        diff = _run([&quot;git&quot;, &quot;diff-index&quot;, &quot;HEAD&quot;])
375	        diff = &quot;has uncommited changes&quot; if diff else &quot;clean&quot;
376	        branch = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;--abbrev-ref&quot;, &quot;HEAD&quot;])
377	    except Exception:
378	        pass
379	    message = f&quot;sha: {sha}, status: {diff}, branch: {branch}&quot;
380	    return message
381	
382	
383	def collate_fn(batch):
384	    # import ipdb; ipdb.set_trace()
385	    batch = list(zip(*batch))
386	    batch[0] = nested_tensor_from_tensor_list(batch[0])
387	    return tuple(batch)
388	
</pre>
</div>


</div>
</div>

<div id="issue-7">
<div class="issue-block issue-sev-low">
    <b>subprocess_without_shell_equals_true: </b> subprocess call - check for execution of untrusted input.<br>
    <b>Test ID:</b> B603<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/78.html" target="_blank">CWE-78</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/misc.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/misc.py</a><br>
    <b>Line number: </b>373<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/plugins/b603_subprocess_without_shell_equals_true.html" target="_blank">https://bandit.readthedocs.io/en/1.7.9/plugins/b603_subprocess_without_shell_equals_true.html</a><br>

<div class="code">
<pre>
357	                header, total_time_str, total_time / len(iterable)
358	            )
359	        )
360	
361	
362	def get_sha():
363	    cwd = os.path.dirname(os.path.abspath(__file__))
364	
365	    def _run(command):
366	        return subprocess.check_output(command, cwd=cwd).decode(&quot;ascii&quot;).strip()
367	
368	    sha = &quot;N/A&quot;
369	    diff = &quot;clean&quot;
370	    branch = &quot;N/A&quot;
371	    try:
372	        sha = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;HEAD&quot;])
373	        subprocess.check_output([&quot;git&quot;, &quot;diff&quot;], cwd=cwd)
374	        diff = _run([&quot;git&quot;, &quot;diff-index&quot;, &quot;HEAD&quot;])
375	        diff = &quot;has uncommited changes&quot; if diff else &quot;clean&quot;
376	        branch = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;--abbrev-ref&quot;, &quot;HEAD&quot;])
377	    except Exception:
378	        pass
379	    message = f&quot;sha: {sha}, status: {diff}, branch: {branch}&quot;
380	    return message
381	
382	
383	def collate_fn(batch):
384	    # import ipdb; ipdb.set_trace()
385	    batch = list(zip(*batch))
386	    batch[0] = nested_tensor_from_tensor_list(batch[0])
387	    return tuple(batch)
388	
</pre>
</div>


</div>
</div>

<div id="issue-8">
<div class="issue-block issue-sev-low">
    <b>try_except_pass: </b> Try, Except, Pass detected.<br>
    <b>Test ID:</b> B110<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/703.html" target="_blank">CWE-703</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/misc.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/misc.py</a><br>
    <b>Line number: </b>377<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/plugins/b110_try_except_pass.html" target="_blank">https://bandit.readthedocs.io/en/1.7.9/plugins/b110_try_except_pass.html</a><br>

<div class="code">
<pre>
361	
362	def get_sha():
363	    cwd = os.path.dirname(os.path.abspath(__file__))
364	
365	    def _run(command):
366	        return subprocess.check_output(command, cwd=cwd).decode(&quot;ascii&quot;).strip()
367	
368	    sha = &quot;N/A&quot;
369	    diff = &quot;clean&quot;
370	    branch = &quot;N/A&quot;
371	    try:
372	        sha = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;HEAD&quot;])
373	        subprocess.check_output([&quot;git&quot;, &quot;diff&quot;], cwd=cwd)
374	        diff = _run([&quot;git&quot;, &quot;diff-index&quot;, &quot;HEAD&quot;])
375	        diff = &quot;has uncommited changes&quot; if diff else &quot;clean&quot;
376	        branch = _run([&quot;git&quot;, &quot;rev-parse&quot;, &quot;--abbrev-ref&quot;, &quot;HEAD&quot;])
377	    except Exception:
378	        pass
379	    message = f&quot;sha: {sha}, status: {diff}, branch: {branch}&quot;
380	    return message
381	
382	
383	def collate_fn(batch):
384	    # import ipdb; ipdb.set_trace()
385	    batch = list(zip(*batch))
386	    batch[0] = nested_tensor_from_tensor_list(batch[0])
387	    return tuple(batch)
388	
389	
390	def _max_by_axis(the_list):
391	    # type: (List[List[int]]) -&gt; List[int]
392	    maxes = the_list[0]
393	    for sublist in the_list[1:]:
</pre>
</div>


</div>
</div>

<div id="issue-9">
<div class="issue-block issue-sev-low">
    <b>blacklist: </b> Consider possible security implications associated with pickle module.<br>
    <b>Test ID:</b> B403<br>
    <b>Severity: </b>LOW<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/502.html" target="_blank">CWE-502</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/slio.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/slio.py</a><br>
    <b>Line number: </b>6<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b403-import-pickle" target="_blank">https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_imports.html#b403-import-pickle</a><br>

<div class="code">
<pre>
1	# ==========================================================
2	# Modified from mmcv
3	# ==========================================================
4	
5	import json
6	import pickle
7	from abc import ABCMeta, abstractmethod
8	from pathlib import Path
9	
10	import yaml
11	
12	try:
13	    from yaml import CLoader as Loader, CDumper as Dumper
14	except ImportError:
15	    from yaml import Loader, Dumper
16	
17	
18	# ===========================
19	# Rigister handler
20	# ===========================
21	
22	
23	class BaseFileHandler(metaclass=ABCMeta):
24	    @abstractmethod
25	    def load_from_fileobj(self, file, **kwargs):
26	        pass
27	
28	    @abstractmethod
29	    def dump_to_fileobj(self, obj, file, **kwargs):
30	        pass
31	
32	    @abstractmethod
</pre>
</div>


</div>
</div>

<div id="issue-10">
<div class="issue-block issue-sev-medium">
    <b>blacklist: </b> Pickle and modules that wrap it can be unsafe when used to deserialize untrusted data, possible security issue.<br>
    <b>Test ID:</b> B301<br>
    <b>Severity: </b>MEDIUM<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/502.html" target="_blank">CWE-502</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/slio.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/slio.py</a><br>
    <b>Line number: </b>58<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_calls.html#b301-pickle" target="_blank">https://bandit.readthedocs.io/en/1.7.9/blacklists/blacklist_calls.html#b301-pickle</a><br>

<div class="code">
<pre>
42	            self.dump_to_fileobj(obj, f, **kwargs)
43	
44	
45	class JsonHandler(BaseFileHandler):
46	    def load_from_fileobj(self, file):
47	        return json.load(file)
48	
49	    def dump_to_fileobj(self, obj, file, **kwargs):
50	        json.dump(obj, file, **kwargs)
51	
52	    def dump_to_str(self, obj, **kwargs):
53	        return json.dumps(obj, **kwargs)
54	
55	
56	class PickleHandler(BaseFileHandler):
57	    def load_from_fileobj(self, file, **kwargs):
58	        return pickle.load(file, **kwargs)
59	
60	    def load_from_path(self, filepath, **kwargs):
61	        return super(PickleHandler, self).load_from_path(filepath, mode=&quot;rb&quot;, **kwargs)
62	
63	    def dump_to_str(self, obj, **kwargs):
64	        kwargs.setdefault(&quot;protocol&quot;, 2)
65	        return pickle.dumps(obj, **kwargs)
66	
67	    def dump_to_fileobj(self, obj, file, **kwargs):
68	        kwargs.setdefault(&quot;protocol&quot;, 2)
69	        pickle.dump(obj, file, **kwargs)
70	
71	    def dump_to_path(self, obj, filepath, **kwargs):
72	        super(PickleHandler, self).dump_to_path(obj, filepath, mode=&quot;wb&quot;, **kwargs)
73	
</pre>
</div>


</div>
</div>

<div id="issue-11">
<div class="issue-block issue-sev-medium">
    <b>yaml_load: </b> Use of unsafe yaml load. Allows instantiation of arbitrary objects. Consider yaml.safe_load().<br>
    <b>Test ID:</b> B506<br>
    <b>Severity: </b>MEDIUM<br>
    <b>Confidence: </b>HIGH<br>
    <b>CWE: </b><a href="https://cwe.mitre.org/data/definitions/20.html" target="_blank">CWE-20</a><br>
    <b>File: </b><a href="/comfyui_segment_anything/local_groundingdino/util/slio.py" target="_blank">/comfyui_segment_anything/local_groundingdino/util/slio.py</a><br>
    <b>Line number: </b>78<br>
    <b>More info: </b><a href="https://bandit.readthedocs.io/en/1.7.9/plugins/b506_yaml_load.html" target="_blank">https://bandit.readthedocs.io/en/1.7.9/plugins/b506_yaml_load.html</a><br>

<div class="code">
<pre>
62	
63	    def dump_to_str(self, obj, **kwargs):
64	        kwargs.setdefault(&quot;protocol&quot;, 2)
65	        return pickle.dumps(obj, **kwargs)
66	
67	    def dump_to_fileobj(self, obj, file, **kwargs):
68	        kwargs.setdefault(&quot;protocol&quot;, 2)
69	        pickle.dump(obj, file, **kwargs)
70	
71	    def dump_to_path(self, obj, filepath, **kwargs):
72	        super(PickleHandler, self).dump_to_path(obj, filepath, mode=&quot;wb&quot;, **kwargs)
73	
74	
75	class YamlHandler(BaseFileHandler):
76	    def load_from_fileobj(self, file, **kwargs):
77	        kwargs.setdefault(&quot;Loader&quot;, Loader)
78	        return yaml.load(file, **kwargs)
79	
80	    def dump_to_fileobj(self, obj, file, **kwargs):
81	        kwargs.setdefault(&quot;Dumper&quot;, Dumper)
82	        yaml.dump(obj, file, **kwargs)
83	
84	    def dump_to_str(self, obj, **kwargs):
85	        kwargs.setdefault(&quot;Dumper&quot;, Dumper)
86	        return yaml.dump(obj, **kwargs)
87	
88	
89	file_handlers = {
90	    &quot;json&quot;: JsonHandler(),
91	    &quot;yaml&quot;: YamlHandler(),
92	    &quot;yml&quot;: YamlHandler(),
93	    &quot;pickle&quot;: PickleHandler(),
</pre>
</div>


</div>
</div>

</div>

</body>
</html>
